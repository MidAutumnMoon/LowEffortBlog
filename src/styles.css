@import "/base16_github.css";


@tailwind base;

@layer base {
    html, body {
        @apply overflow-x-hidden;
        @apply relative;
        @apply mx-4 lg:mx-auto lg:max-w-[70ch];
        @apply text-lg lg:text-base;
    }

    a {
        @apply underline;
        @apply text-blue-600 visited:text-blue-800;
    }

    a.external::before {
        @apply inline-block mr-1;
        @apply icon-[mdi--external-link];
        @apply text-center text-sm align-middle;
        content: "";
    }
}


@tailwind components;

@layer components {

    /*
        Roll out my own prose because the Tailwind Typography
        does way too much things not to my taste.

        Roughly based on UnoCSS typography though.

        Notice that this uses modern CSS nesting,
        which will certainly break on some devices and IDC. :)
    */
    .prose {

        /*
            Basic margin
         */
        & * {
            @apply my-[1.8ch];
        }

        /*
            Various Headings
            h5 and h6 are ignored
        */
        & h1,h2,h3,h4 {
            @apply font-semibold;
            @apply mt-8 mb-4;

            /* Generated by markdown anchor plugin */
            & .header-anchor {
                /* @apply; */
                @apply text-blue-300/50;
                @apply hidden;
            }

            &:hover .header-anchor {
                @apply inline;
            }
        }

        & h1 {
            @apply text-3xl;
        }
        & h2 {
            @apply text-2xl;
        }
        & h3,h4 {
            @apply text-xl;
        }

        /*
            Blocks
         */

        & code {
            @apply font-mono;
            @apply bg-blue-200/20;
            @apply px-1;
        }

        & blockquote {
            @apply italic;
            @apply border-blue-200/20 border-l-[0.8ch] pl-3 py-1;
            @apply text-gray-600;

            & > * {
                @apply my-[0.8ch];
            }
        }

        & pre {
            & code { @apply bg-transparent p-0; }
            @apply border;
            @apply overflow-x-auto;
            @apply whitespace-pre hyphens-none;
            @apply py-1 px-2;
            tab-size: 4;
        }

        & figure {
            & img {
                @apply m-0;
            }
            & figcaption {
                @apply m-0 mt-2;
                @apply text-sm text-gray-600/50 italic text-center;
            }
        }

        /*
            Lists
         */

        & ol,ul {
            @apply list-inside;

            & > li {
                & > * { @apply m-0; }
                & > ul, & > ol { @apply ps-4; }
                @apply my-1;
            }
        }

        & ol {
            @apply list-decimal;
        }

        & ul {
            @apply list-disc;
        }

        /*
            Multimedia
         */

        & img {
            @apply w-full border;
            @apply text-blue-400/70 italic;
        }

    } /* End .prose */

}


@tailwind utilities;